<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <title>RemiAhorro â€” EducaciÃ³n</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <style>
    /* Ajustes locales mÃ­nimos (el resto vive en styles.css) */
    .lesson-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
    @media(max-width:1100px){.lesson-grid{grid-template-columns:1fr 1fr}}
    @media(max-width:720px){.lesson-grid{grid-template-columns:1fr}}
    .lesson{border:1px solid var(--ring);background:#fff;border-radius:18px;padding:16px;box-shadow:var(--shadow);display:flex;gap:12px}
    .lesson-ico{width:44px;height:44px;border-radius:12px;display:grid;place-items:center;background:#eaf6ef;font-size:20px}
    .lesson h3{margin:0 0 4px;color:#15563e;font-size:18px}
    .pill-mini{padding:4px 8px;border:1px solid var(--ring);border-radius:999px;background:#f7fbf8;color:#1b5b40;font-weight:800;font-size:12px}
    .progress-lite{height:8px;background:#e6f2ec;border-radius:999px;overflow:hidden}
    .progress-lite > span{display:block;height:100%;background:var(--green-700);width:0}
    .two-col{display:grid;grid-template-columns:1.2fr .8fr;gap:16px}
    @media(max-width:1000px){.two-col{grid-template-columns:1fr}}
    .habits{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
    @media(max-width:1000px){.habits{grid-template-columns:1fr}}
    .habit{border:1px solid var(--ring);background:#fff;border-radius:14px;padding:12px;display:flex;justify-content:space-between;align-items:center}
    .badge-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
    @media(max-width:1000px){.badge-grid{grid-template-columns:repeat(2,1fr)}}
    .badge{border:1px solid var(--ring);background:#fff;border-radius:16px;padding:14px;text-align:center}
    .badge .b-ico{font-size:28px}
    .badge.locked{opacity:.5}
    .faq details{border:1px solid var(--ring);border-radius:12px;background:#fff;padding:12px}
    .faq summary{cursor:pointer;font-weight:800;color:#1f513b}
    .sim-item{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    @media(max-width:800px){.sim-item{grid-template-columns:1fr}}
    .sim-item input{padding:10px;border:1px solid #cfe8d9;border-radius:10px}
    .kpi{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
    @media(max-width:900px){.kpi{grid-template-columns:1fr}}
    .kpi .card{padding:16px}
    .muted-sm{color:#6a8f7e;font-size:12px}
    .resource{display:flex;justify-content:space-between;align-items:center;border:1px solid var(--ring);border-radius:12px;padding:10px;background:#fff}
    .modal{border:0;border-radius:18px;padding:0;max-width:min(680px,92vw)}
    .modal .head{padding:16px 18px;border-bottom:1px solid var(--ring);font-weight:800;color:#134a35}
    .modal .body{padding:18px}
    .modal .actions{display:flex;gap:10px;justify-content:flex-end;padding:0 18px 18px}
    .quiz-q{margin-bottom:12px}
    .quiz-q label{display:block;margin-top:6px}
    .btn.ghost{background:transparent;border:1px solid var(--ring);color:#15563e}
  </style>
</head>
<body>
  <!-- Topbar -->
  <div class="topbar">
    <div class="topbar-inner">
      <div class="brand"><div class="brand-badge"></div><div><h1>RemiAhorro</h1><div style="font-size:12px;color:#5a8d75">Gestiona tus remesas</div></div></div>
      <nav class="nav">
        <a href="index.html" data-page="inicio">Inicio</a>
        <a href="metas.html" data-page="metas">Metas</a>
        <a href="educacion.html" data-page="educacion" class="active">EducaciÃ³n</a>
        <a href="perfil.html" data-page="perfil">Mi perfil</a>
        <a href="#" class="logout" id="navLogout">Salir</a>
        <a href="#" id="navUser" style="pointer-events:none"></a>
      </nav>
    </div>
  </div>

  <div class="container">
    <h2 class="section-title">MicroeducaciÃ³n Financiera</h2>

    <!-- KPIs de aprendizaje -->
    <div class="kpi">
      <div class="card">
        <div class="muted-sm">Lecciones completadas</div>
        <div id="kpiLessons" class="money">0</div>
      </div>
      <div class="card">
        <div class="muted-sm">Racha de estudio</div>
        <div id="kpiStreak" class="money">0 dÃ­as</div>
      </div>
      <div class="card">
        <div class="muted-sm">Progreso total</div>
        <div class="progress-lite" aria-label="Progreso total"><span id="kpiProgress"></span></div>
      </div>
    </div>

    <!-- CatÃ¡logo de lecciones -->
    <div class="lesson-grid" id="lessonGrid">
      <!-- generado por JS -->
    </div>

    <!-- Simuladores & HÃ¡bitos -->
    <div class="two-col">
      <!-- Simuladores -->
      <div class="card">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div><div style="font-weight:800;color:#15563e;font-size:20px">Simuladores</div><div class="muted">Calcula rÃ¡pido y toma mejores decisiones</div></div>
          <button class="btn ghost" id="resetEdu">Reiniciar progreso</button>
        </div>
        <div style="margin-top:12px;display:grid;gap:14px">
          <div class="sim-item">
            <div>
              <b>1) InterÃ©s compuesto</b>
              <div class="muted-sm">monto final = P(1 + r/n)<sup>nÂ·t</sup></div>
              <label>Monto inicial (P)</label>
              <input id="icP" type="number" placeholder="Ej. 300000">
              <label>Tasa anual (r, %)</label>
              <input id="icR" type="number" placeholder="Ej. 10">
              <label>AÃ±os (t)</label>
              <input id="icT" type="number" placeholder="Ej. 2">
              <label>Capitalizaciones/aÃ±o (n)</label>
              <input id="icN" type="number" placeholder="12">
            </div>
            <div>
              <div class="pill" style="display:inline-block;margin-bottom:8px">Resultado</div>
              <div id="icOut" class="money">$0</div>
              <div class="muted-sm">Crecimiento total mostrado arriba</div>
              <button class="btn primary" id="btnIC" style="margin-top:10px;width:100%">Calcular</button>
            </div>
          </div>

          <div class="sim-item">
            <div>
              <b>2) Â¿CuÃ¡nto necesito ahorrar al mes?</b>
              <div class="muted-sm">para llegar a una meta en X meses</div>
              <label>Meta (COP)</label>
              <input id="amGoal" type="number" placeholder="Ej. 1000000">
              <label>Meses</label>
              <input id="amMonths" type="number" placeholder="Ej. 10">
            </div>
            <div>
              <div class="pill" style="display:inline-block;margin-bottom:8px">Cuota sugerida</div>
              <div id="amOut" class="money">$0</div>
              <button class="btn primary" id="btnAM" style="margin-top:10px;width:100%">Calcular</button>
            </div>
          </div>
        </div>
      </div>

      <!-- HÃ¡bitos -->
      <div class="card">
        <div style="font-weight:800;color:#15563e;font-size:20px">HÃ¡bitos recomendados</div>
        <div class="muted">Marca los que cumplas. Guardamos tu progreso.</div>
        <div class="habits" id="habitList" style="margin-top:12px">
          <!-- generado por JS -->
        </div>
      </div>
    </div>

    <!-- Insignias -->
    <h2 class="section-title">Insignias</h2>
    <div class="badge-grid" id="badgeGrid">
      <!-- generado por JS -->
    </div>

    <!-- Glosario & Recursos -->
    <div class="two-col" style="margin-top:16px">
      <div class="card faq">
        <div style="font-weight:800;color:#15563e;font-size:20px">Glosario rÃ¡pido</div>
        <div style="display:grid;gap:10px;margin-top:10px">
          <details><summary>InterÃ©s compuesto</summary><div class="muted">InterÃ©s que se calcula sobre el capital inicial + los intereses acumulados de periodos previos.</div></details>
          <details><summary>Fondo de emergencia</summary><div class="muted">Ahorro reservado para imprevistos. Sugerido: 3-6 meses de gastos.</div></details>
          <details><summary>Remesa</summary><div class="muted">Dinero que envÃ­a un familiar desde el exterior.</div></details>
        </div>
      </div>

      <div class="card">
        <div style="font-weight:800;color:#15563e;font-size:20px">Recursos Ãºtiles</div>
        <div style="display:grid;gap:10px;margin-top:10px">
          <div class="resource"><div>ðŸ“„ GuÃ­a rÃ¡pida de ahorro con remesas</div><button class="btn secondary" id="dlGuia">Descargar PDF</button></div>
          <div class="resource"><div>ðŸŽ§ Podcast: Presupuesto en 10 minutos</div><button class="btn secondary">Escuchar</button></div>
          <div class="resource"><div>ðŸ“º Video: 5 errores comunes al ahorrar</div><button class="btn secondary">Ver</button></div>
        </div>
      </div>
    </div>
  </div>

  <!-- MODAL Quiz -->
  <dialog id="quizModal" class="modal">
    <div class="head">Quiz â€” Principios bÃ¡sicos</div>
    <div class="body">
      <form id="quizForm">
        <div class="quiz-q">
          <b>1) Â¿QuÃ© conviene hacer primero al recibir tu ingreso?</b>
          <label><input type="radio" name="q1" value="a"> Pagar todo y ver si sobra</label>
          <label><input type="radio" name="q1" value="b"> Ahorrar un % fijo antes de gastar</label>
          <label><input type="radio" name="q1" value="c"> Comprar antojos</label>
        </div>
        <div class="quiz-q">
          <b>2) Â¿QuÃ© fondo te ayuda con imprevistos?</b>
          <label><input type="radio" name="q2" value="a"> Fondo de emergencia</label>
          <label><input type="radio" name="q2" value="b"> Fondo de diversiÃ³n</label>
          <label><input type="radio" name="q2" value="c"> Fondo de vacaciones</label>
        </div>
        <div class="quiz-q">
          <b>3) Â¿QuÃ© describe el interÃ©s compuesto?</b>
          <label><input type="radio" name="q3" value="a"> Solo sobre capital</label>
          <label><input type="radio" name="q3" value="b"> Sobre capital + intereses acumulados</label>
          <label><input type="radio" name="q3" value="c"> Un impuesto</label>
        </div>
      </form>
      <div id="quizFeedback" class="muted" style="margin-top:8px"></div>
    </div>
    <div class="actions">
      <button class="btn secondary" id="quizClose">Cerrar</button>
      <button class="btn primary" id="quizSubmit">Enviar</button>
    </div>
  </dialog>

  <!-- MODAL LecciÃ³n (video demo) -->
  <dialog id="videoModal" class="modal">
    <div class="head" id="videoTitle">LecciÃ³n</div>
    <div class="body">
      <div class="muted">Demo: aquÃ­ irÃ­a tu iframe/video. Por ahora mostramos un bloque simulado.</div>
      <div style="height:260px;border:1px dashed var(--ring);border-radius:12px;display:grid;place-items:center;margin-top:10px">ðŸŽ¥ Video</div>
    </div>
    <div class="actions">
      <button class="btn secondary" id="videoClose">Cerrar</button>
      <button class="btn primary" id="videoComplete">Marcar como visto</button>
    </div>
  </dialog>

  <script type="module">
    import { requireAuth } from './app.js';
    requireAuth("educacion");
    import './educacion.js';
  </script>
</body>
</html>
